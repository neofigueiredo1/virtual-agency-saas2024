var Util={isNumber:function(n){return!isNaN(parseFloat(n))&&isFinite(n)},/* Função para validação de e-mail */isEmail:function(mail){var ret=false;if(typeof mail!='undefined'){mail=mail.match(/(\w+)@(.+)\.(\w+)$/);if(mail!=null){if(mail[3].length==2||mail[3].length==3)ret=true}}return ret},isJson:function(jsonString){if(/^[\],:{}\s]*$/.test(jsonString.replace(/\\["\\\/bfnrtu]/g,'@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,''))){//the json is ok
return true}else{//the json is not ok
return false}},isDate:function(data){var ExpReg=new RegExp('(0[1-9]|[12][0-9]|3[01])/(0[1-9]|1[012])/[12][0-9]{3}');var date=data;var ardt=new Array;ardt=date.split('/');let erro=false;if(date.search(ExpReg)==-1){erro=true}else if((ardt[1]==4||ardt[1]==6||ardt[1]==9||ardt[1]==11)&&ardt[0]>30)erro=true;else if(ardt[1]==2){if(ardt[0]>28&&ardt[2]%4!=0)erro=true;if(ardt[0]>29&&ardt[2]%4==0)erro=true}return!erro},getLabelByInputId:function(elId){var labels=document.getElementsByTagName('label');for(var i=0;i<labels.length;i++){if(labels[i].htmlFor==elId){return labels[i]}}},/**
	 * Substitui todas as ocorrências da string de procura com a string de substituição
	 * @param  {mixed} a  - string search
	 * @param  {mixed} b  - string replace
	 * @param  {mixed} d  - string subject
	 * @return {mixed}  string com os valores modificados.
	 */replaceAll:function(de,para,str){return str.replace(new RegExp(de,'g'),para)},/**
	 * verifica se elemento suporta determinado atributo - elmSupportAttr(element, attribute)
	 * @param element, attribute
	 * @return boolean
	 */elmSupportAttr:function(a,b){var c=document.createElement(a);return b in c?!0:!1},checkFormRequire:function(theForm,theMessageArea,callback){callback=callback||false;var elements=theForm.elements,element,required,label,send=true;$(theMessageArea).slideUp();$(theMessageArea).html('Preencha os dados corretamente para continuar.');for(var i=elements.length-1;i>=0;i--){element=elements[i];required=element.getAttribute('data-required');var elementValue=element.value;elementValue=elementValue.trim();jQuery(element).removeClass('error');jQuery(Util.getLabelByInputId(element.name)).removeClass('error');if(required==='true'){if(elementValue==''){jQuery(element).addClass('error');jQuery(Util.getLabelByInputId(element.name)).addClass('error');send=false}else{if(element.type=='email'){if(!Util.isEmail(elementValue)){jQuery(element).addClass('error');jQuery(Util.getLabelByInputId(element.name)).addClass('error');send=false}else{jQuery(element).removeClass('error');jQuery(Util.getLabelByInputId(element.name)).removeClass('error')}}else{jQuery(element).removeClass('error');jQuery(Util.getLabelByInputId(element.name)).removeClass('error')}}}else if(element.type=='email'&&elementValue!=''){if(!Util.isEmail(elementValue)){jQuery(element).addClass('error');jQuery(Util.getLabelByInputId(element.name)).addClass('error');send=false}else{jQuery(element).removeClass('error');jQuery(Util.getLabelByInputId(element.name)).removeClass('error')}}}if(send){if(callback!==false){return callback(theForm,theMessageArea)}else{theForm.submit()}}else{if(!window.location.hash){$('html, body').animate({scrollTop:$(theForm).offset().top-150},'slow')}$(theMessageArea).stop().slideDown('fast',function(){$('[data-loading-text]').button('reset');$(theMessageArea).css('height','auto');// setTimeout(function () {
// 	$(theMessageArea).slideUp('fast');
// }, 3500);
})}},numberToReal:function(numero){var numero=numero.toFixed(2).split('.');numero[0]=numero[0].split(/(?=(?:...)*$)/).join('.');return numero.join(',')},formatMoney:function(n,c,d,t){var c=isNaN(c=Math.abs(c))?2:c,d=d==undefined?'.':d,t=t==undefined?',':t,s=n<0?'-':'',i=String(parseInt(n=Math.abs(Number(n)||0).toFixed(c))),j=(j=i.length)>3?j%3:0;return s+(j?i.substr(0,j)+t:'')+i.substr(j).replace(/(\d{3})(?=\d)/g,'$1'+t)+(c?d+Math.abs(n-i).toFixed(c).slice(2):'')}};function sendCadastro(form){element=form.elements;nome=element.c_nome.value;email=element.c_email.value;telefone=element.c_telefone.value;assunto=element.c_assunto.value;mensagem=element.c_mensagem.value;cData={nome:nome,email:email,telefone:telefone,assunto:assunto,mensagem:mensagem};$('#contato_form_preloader').slideDown('fast',function(event){$.ajax({url:'/site/direct-includes/site-contato-exe.php',type:'POST',data:cData,success:function(data,textStatus,jqXHR){if(data=='ok'){$('#contato_form_preloader').slideUp('fast');form.reset();$('#contato_form_sucesso').slideDown('fast',function(event){setTimeout(function(){$('#contato_form_sucesso').slideUp('fast')},4000)})}else{console.log('002 - Falha!'+textStatus)}},error:function(jqXHR,textStatus,errorThrown){$('#contato_form_preloader').slideUp('fast');console.log('003 - Falha!'+textStatus)}});//end ajax
})}function sendContato(form,msg_area){// let element = form.elements;
// let nome = element.c_nome.value,
// 	email = element.c_email.value,
// 	telefone = element.c_telefone.value,
// 	mensagem = element.c_mensagem.value;
let formData=$(form).serialize();//{ sac: 1, nome: nome, email: email, telefone: telefone, mensagem: mensagem };
console.log(formData);$(form).find('.contato_form_body').slideUp('fast');$(form).find('.contato_form_preloader').slideDown('fast',function(event){$.ajax({url:'/site/direct-includes/site-contato-ajax-controller.php',type:'POST',data:formData,success:function(data,textStatus,jqXHR){$(form).find('.contato_form_preloader').slideUp('fast');if(data.trim()=='ok'){form.reset();$(form).find('.contato_form_sucesso').slideDown('fast',function(event){setTimeout(function(){$(form).find('.contato_form_sucesso').slideUp('fast');$(form).find('.contato_form_body').slideDown('fast')},4000)})}else{console.log('002 - Falha!'+textStatus);$(form).find('.contato_form_body').slideDown('fast')}},error:function(jqXHR,textStatus,errorThrown){$(form).find('.contato_form_preloader').slideUp('fast');$(form).find('.contato_form_body').slideDown('fast');console.log('003 - Falha!'+textStatus)}});//end ajax
})}
// Scroll Nav
function sectionScroll(index){var targetOffset=$(index).offset().top;var variacao=30;$('html, body').animate({scrollTop:targetOffset-variacao},3000)}$(document).ready(function(){// Não permite copia do site
// $('body').bind('cut copy', function(e) {
//     e.preventDefault();
// });
// $("body").on("contextmenu", function(e) {
//   return false;
// });
/*
    * Replace all SVG images with inline SVG
    */$('img.svg').each(function(){var $img=$(this);var imgID=$img.attr('id');var imgClass=$img.attr('class');var imgURL=$img.attr('src');$.get(imgURL,function(data){// Get the SVG tag, ignore the rest
var $svg=$(data).find('svg');// Add replaced image's ID to the new SVG
if(typeof imgID!=='undefined'){$svg=$svg.attr('id',imgID)}// Add replaced image's classes to the new SVG
if(typeof imgClass!=='undefined'){$svg=$svg.attr('class',imgClass+' replaced-svg')}// Remove any invalid XML tags as per http://validator.w3.org
$svg=$svg.removeAttr('xmlns:a');// Replace image with new SVG
$img.replaceWith($svg)},'xml')});//Carousel Depoimentos Home
$('.s_banner_capa_topo').owlCarousel({margin:0,nav:true,autoplay:false,dots:true,items:1});//Carousel Depoimentos Home
$('.s_a_vencer_items').owlCarousel({margin:0,nav:true,autoplay:false,dots:true,items:1});//Carousel Depoimentos Home
$('.depoimentos_lista').owlCarousel({margin:20,autoplay:false,nav:true,dots:true,items:3,responsive:{0:{items:1,nav:false,dots:true},600:{items:2,nav:false,dots:true},1000:{items:3}}});//Carousel Depoimentos Home
$('.noticias_lista_carousel').owlCarousel({margin:20,autoplay:false,nav:true,dots:true,items:3,responsive:{0:{items:1,nav:false,dots:true},600:{items:2,nav:false,dots:true},1000:{items:3}}});$('.s_publica\xE7oes_relacionadas_carousel').owlCarousel({margin:20,nav:true,autoplay:false,dots:true,items:3,responsive:{0:{items:1},600:{items:2},1000:{items:3}}});// Scroll Menu Header
$('a.btn-simulacao').on('click',function(e){var href=$(this).attr('href').split('#');if(href.length==2){var id='#'+href[1];if($(id).length>0){e.preventDefault();sectionScroll(id)}}});//Mascaras para os campos
$('.mask_date').mask('00/00/0000');$('.mask_cep').mask('00000-000');$('.mask_phone_with_ddd').mask('(00) 00000-0000');$('.mask_cpf').mask('000.000.000-00');$('.mask_cnpj').mask('00.000.000/0000-00');var SPMaskBehavior=function(val){return val.replace(/\D/g,'').length===11?'(00) 00000-0000':'(00) 0000-00009'},spOptions={onKeyPress:function(val,e,field,options){field.mask(SPMaskBehavior.apply({},arguments),options)}};$('.mask_money').mask('000.000.000.000.000,00',{reverse:true});$('.mask_spcelphones').mask(SPMaskBehavior,spOptions);var CpfCnpjMaskBehavior=function(val){return val.replace(/\D/g,'').length<=11?'000.000.000-0099':'00.000.000/0000-00'},cpfCnpjOptions={onKeyPress:function(val,e,field,options){field.mask(CpfCnpjMaskBehavior.apply({},arguments),options)}};$('.mask_cpfcnpj').mask(CpfCnpjMaskBehavior,cpfCnpjOptions);//Bootstrap Tootip
$(function(){$('[data-toggle="popover"]').popover()})});$('#button_notificar').on('click',function(){$('.button_block_notificar').slideToggle('fast')});
// Generated by CoffeeScript 1.7.1
(function(){var $,cardFromNumber,cardFromType,cards,defaultFormat,formatBackCardNumber,formatBackExpiry,formatCardNumber,formatExpiry,formatForwardExpiry,formatForwardSlashAndSpace,hasTextSelected,luhnCheck,reFormatCVC,reFormatCardNumber,reFormatExpiry,reFormatNumeric,replaceFullWidthChars,restrictCVC,restrictCardNumber,restrictExpiry,restrictNumeric,safeVal,setCardType,__slice=[].slice,__indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++){if(i in this&&this[i]===item)return i}return-1};$=window.jQuery||window.Zepto||window.$;$.payment={};$.payment.fn={};$.fn.payment=function(){var args,method;method=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[];return $.payment.fn[method].apply(this,args)};defaultFormat=/(\d{1,4})/g;$.payment.cards=cards=[{type:'maestro',patterns:[5018,502,503,506,56,58,639,6220,67],format:defaultFormat,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:true},{type:'forbrugsforeningen',patterns:[600],format:defaultFormat,length:[16],cvcLength:[3],luhn:true},{type:'dankort',patterns:[5019],format:defaultFormat,length:[16],cvcLength:[3],luhn:true},{type:'visa',patterns:[4],format:defaultFormat,length:[13,16],cvcLength:[3],luhn:true},{type:'mastercard',patterns:[51,52,53,54,55,22,23,24,25,26,27],format:defaultFormat,length:[16],cvcLength:[3],luhn:true},{type:'amex',patterns:[34,37],format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:true},{type:'dinersclub',patterns:[30,36,38,39],format:/(\d{1,4})(\d{1,6})?(\d{1,4})?/,length:[14],cvcLength:[3],luhn:true},{type:'discover',patterns:[60,64,65,622],format:defaultFormat,length:[16],cvcLength:[3],luhn:true},{type:'unionpay',patterns:[62,88],format:defaultFormat,length:[16,17,18,19],cvcLength:[3],luhn:false},{type:'jcb',patterns:[35],format:defaultFormat,length:[16],cvcLength:[3],luhn:true},{type:'aura',patterns:[50],format:defaultFormat,length:[16],cvcLength:[3],luhn:true},{type:'elo',patterns:[401178,401179,431274,438935,451416,457393,457631,457632,504175,627780,636297,636368,636369],format:defaultFormat,length:[16],cvcLength:[3],luhn:false}];cardFromNumber=function(num){var card,p,pattern,_i,_j,_len,_len1,_ref;num=(num+'').replace(/\D/g,'');for(_i=0,_len=cards.length;_i<_len;_i++){card=cards[_i];_ref=card.patterns;for(_j=0,_len1=_ref.length;_j<_len1;_j++){pattern=_ref[_j];p=pattern+'';if(num.substr(0,p.length)===p){return card}}}};cardFromType=function(type){var card,_i,_len;for(_i=0,_len=cards.length;_i<_len;_i++){card=cards[_i];if(card.type===type){return card}}};luhnCheck=function(num){var digit,digits,odd,sum,_i,_len;odd=true;sum=0;digits=(num+'').split('').reverse();for(_i=0,_len=digits.length;_i<_len;_i++){digit=digits[_i];digit=parseInt(digit,10);if(odd=!odd){digit*=2}if(digit>9){digit-=9}sum+=digit}return sum%10===0};hasTextSelected=function($target){var _ref;if($target.prop('selectionStart')!=null&&$target.prop('selectionStart')!==$target.prop('selectionEnd')){return true}if((typeof document!=='undefined'&&document!==null?(_ref=document.selection)!=null?_ref.createRange:void 0:void 0)!=null){if(document.selection.createRange().text){return true}}return false};safeVal=function(value,$target){var currPair,cursor,digit,error,last,prevPair;try{cursor=$target.prop('selectionStart')}catch(_error){error=_error;cursor=null}last=$target.val();$target.val(value);if(cursor!==null&&$target.is(':focus')){if(cursor===last.length){cursor=value.length}if(last!==value){prevPair=last.slice(cursor-1,+cursor+1||9e9);currPair=value.slice(cursor-1,+cursor+1||9e9);digit=value[cursor];if(/\d/.test(digit)&&prevPair===''+digit+' '&&currPair===' '+digit){cursor=cursor+1}}$target.prop('selectionStart',cursor);return $target.prop('selectionEnd',cursor)}};replaceFullWidthChars=function(str){var chars,chr,fullWidth,halfWidth,idx,value,_i,_len;if(str==null){str=''}fullWidth='\uFF10\uFF11\uFF12\uFF13\uFF14\uFF15\uFF16\uFF17\uFF18\uFF19';halfWidth='0123456789';value='';chars=str.split('');for(_i=0,_len=chars.length;_i<_len;_i++){chr=chars[_i];idx=fullWidth.indexOf(chr);if(idx>-1){chr=halfWidth[idx]}value+=chr}return value};reFormatNumeric=function(e){var $target;$target=$(e.currentTarget);return setTimeout(function(){var value;value=$target.val();value=replaceFullWidthChars(value);value=value.replace(/\D/g,'');return safeVal(value,$target)})};reFormatCardNumber=function(e){var $target;$target=$(e.currentTarget);return setTimeout(function(){var value;value=$target.val();value=replaceFullWidthChars(value);value=$.payment.formatCardNumber(value);return safeVal(value,$target)})};formatCardNumber=function(e){var $target,card,digit,length,re,upperLength,value;digit=String.fromCharCode(e.which);if(!/^\d+$/.test(digit)){return}$target=$(e.currentTarget);value=$target.val();card=cardFromNumber(value+digit);length=(value.replace(/\D/g,'')+digit).length;upperLength=16;if(card){upperLength=card.length[card.length.length-1]}if(length>=upperLength){return}if($target.prop('selectionStart')!=null&&$target.prop('selectionStart')!==value.length){return}if(card&&card.type==='amex'){re=/^(\d{4}|\d{4}\s\d{6})$/}else{re=/(?:^|\s)(\d{4})$/}if(re.test(value)){e.preventDefault();return setTimeout(function(){return $target.val(value+' '+digit)})}else if(re.test(value+digit)){e.preventDefault();return setTimeout(function(){return $target.val(value+digit+' ')})}};formatBackCardNumber=function(e){var $target,value;$target=$(e.currentTarget);value=$target.val();if(e.which!==8){return}if($target.prop('selectionStart')!=null&&$target.prop('selectionStart')!==value.length){return}if(/\d\s$/.test(value)){e.preventDefault();return setTimeout(function(){return $target.val(value.replace(/\d\s$/,''))})}else if(/\s\d?$/.test(value)){e.preventDefault();return setTimeout(function(){return $target.val(value.replace(/\d$/,''))})}};reFormatExpiry=function(e){var $target;$target=$(e.currentTarget);return setTimeout(function(){var value;value=$target.val();value=replaceFullWidthChars(value);value=$.payment.formatExpiry(value);return safeVal(value,$target)})};formatExpiry=function(e){var $target,digit,val;digit=String.fromCharCode(e.which);if(!/^\d+$/.test(digit)){return}$target=$(e.currentTarget);val=$target.val()+digit;if(/^\d$/.test(val)&&val!=='0'&&val!=='1'){e.preventDefault();return setTimeout(function(){return $target.val('0'+val+' / ')})}else if(/^\d\d$/.test(val)){e.preventDefault();return setTimeout(function(){var m1,m2;m1=parseInt(val[0],10);m2=parseInt(val[1],10);if(m2>2&&m1!==0){return $target.val('0'+m1+' / '+m2)}else{return $target.val(''+val+' / ')}})}};formatForwardExpiry=function(e){var $target,digit,val;digit=String.fromCharCode(e.which);if(!/^\d+$/.test(digit)){return}$target=$(e.currentTarget);val=$target.val();if(/^\d\d$/.test(val)){return $target.val(''+val+' / ')}};formatForwardSlashAndSpace=function(e){var $target,val,which;which=String.fromCharCode(e.which);if(!(which==='/'||which===' ')){return}$target=$(e.currentTarget);val=$target.val();if(/^\d$/.test(val)&&val!=='0'){return $target.val('0'+val+' / ')}};formatBackExpiry=function(e){var $target,value;$target=$(e.currentTarget);value=$target.val();if(e.which!==8){return}if($target.prop('selectionStart')!=null&&$target.prop('selectionStart')!==value.length){return}if(/\d\s\/\s$/.test(value)){e.preventDefault();return setTimeout(function(){return $target.val(value.replace(/\d\s\/\s$/,''))})}};reFormatCVC=function(e){var $target;$target=$(e.currentTarget);return setTimeout(function(){var value;value=$target.val();value=replaceFullWidthChars(value);value=value.replace(/\D/g,'').slice(0,4);return safeVal(value,$target)})};restrictNumeric=function(e){var input;if(e.metaKey||e.ctrlKey){return true}if(e.which===32){return false}if(e.which===0){return true}if(e.which<33){return true}input=String.fromCharCode(e.which);return!!/[\d\s]/.test(input)};restrictCardNumber=function(e){var $target,card,digit,value;$target=$(e.currentTarget);digit=String.fromCharCode(e.which);if(!/^\d+$/.test(digit)){return}if(hasTextSelected($target)){return}value=($target.val()+digit).replace(/\D/g,'');card=cardFromNumber(value);if(card){return value.length<=card.length[card.length.length-1]}else{return value.length<=16}};restrictExpiry=function(e){var $target,digit,value;$target=$(e.currentTarget);digit=String.fromCharCode(e.which);if(!/^\d+$/.test(digit)){return}if(hasTextSelected($target)){return}value=$target.val()+digit;value=value.replace(/\D/g,'');if(value.length>6){return false}};restrictCVC=function(e){var $target,digit,val;$target=$(e.currentTarget);digit=String.fromCharCode(e.which);if(!/^\d+$/.test(digit)){return}if(hasTextSelected($target)){return}val=$target.val()+digit;return val.length<=4};setCardType=function(e){var $target,allTypes,card,cardType,val;$target=$(e.currentTarget);val=$target.val();cardType=$.payment.cardType(val)||'unknown';if(!$target.hasClass(cardType)){allTypes=function(){var _i,_len,_results;_results=[];for(_i=0,_len=cards.length;_i<_len;_i++){card=cards[_i];_results.push(card.type)}return _results}();$target.removeClass('unknown');$target.removeClass(allTypes.join(' '));$target.addClass(cardType);$target.toggleClass('identified',cardType!=='unknown');return $target.trigger('payment.cardType',cardType)}};$.payment.fn.formatCardCVC=function(){this.on('keypress',restrictNumeric);this.on('keypress',restrictCVC);this.on('paste',reFormatCVC);this.on('change',reFormatCVC);this.on('input',reFormatCVC);return this};$.payment.fn.formatCardExpiry=function(){this.on('keypress',restrictNumeric);this.on('keypress',restrictExpiry);this.on('keypress',formatExpiry);this.on('keypress',formatForwardSlashAndSpace);this.on('keypress',formatForwardExpiry);this.on('keydown',formatBackExpiry);this.on('change',reFormatExpiry);this.on('input',reFormatExpiry);return this};$.payment.fn.formatCardNumber=function(){this.on('keypress',restrictNumeric);this.on('keypress',restrictCardNumber);this.on('keypress',formatCardNumber);this.on('keydown',formatBackCardNumber);this.on('keyup',setCardType);this.on('paste',reFormatCardNumber);this.on('change',reFormatCardNumber);this.on('input',reFormatCardNumber);this.on('input',setCardType);return this};$.payment.fn.restrictNumeric=function(){this.on('keypress',restrictNumeric);this.on('paste',reFormatNumeric);this.on('change',reFormatNumeric);this.on('input',reFormatNumeric);return this};$.payment.fn.cardExpiryVal=function(){return $.payment.cardExpiryVal($(this).val())};$.payment.cardExpiryVal=function(value){var month,prefix,year,_ref;_ref=value.split(/[\s\/]+/,2),month=_ref[0],year=_ref[1];if((year!=null?year.length:void 0)===2&&/^\d+$/.test(year)){prefix=new Date().getFullYear();prefix=prefix.toString().slice(0,2);year=prefix+year}month=parseInt(month,10);year=parseInt(year,10);return{month:month,year:year}};$.payment.validateCardNumber=function(num){var card,_ref;num=(num+'').replace(/\s+|-/g,'');if(!/^\d+$/.test(num)){return false}card=cardFromNumber(num);if(!card){return false}return(_ref=num.length,__indexOf.call(card.length,_ref)>=0)&&(card.luhn===false||luhnCheck(num))};$.payment.validateCardExpiry=function(month,year){var currentTime,expiry,_ref;if(typeof month==='object'&&'month'in month){_ref=month,month=_ref.month,year=_ref.year}if(!(month&&year)){return false}month=$.trim(month);year=$.trim(year);if(!/^\d+$/.test(month)){return false}if(!/^\d+$/.test(year)){return false}if(!(1<=month&&month<=12)){return false}if(year.length===2){if(year<70){year='20'+year}else{year='19'+year}}if(year.length!==4){return false}expiry=new Date(year,month);currentTime=new Date;expiry.setMonth(expiry.getMonth()-1);expiry.setMonth(expiry.getMonth()+1,1);return expiry>currentTime};$.payment.validateCardCVC=function(cvc,type){var card,_ref;cvc=$.trim(cvc);if(!/^\d+$/.test(cvc)){return false}card=cardFromType(type);if(card!=null){return _ref=cvc.length,__indexOf.call(card.cvcLength,_ref)>=0}else{return cvc.length>=3&&cvc.length<=4}};$.payment.cardType=function(num){var _ref;if(!num){return null}return((_ref=cardFromNumber(num))!=null?_ref.type:void 0)||null};$.payment.formatCardNumber=function(num){var card,groups,upperLength,_ref;num=num.replace(/\D/g,'');card=cardFromNumber(num);if(!card){return num}upperLength=card.length[card.length.length-1];num=num.slice(0,upperLength);if(card.format.global){return(_ref=num.match(card.format))!=null?_ref.join(' '):void 0}else{groups=card.format.exec(num);if(groups==null){return}groups.shift();groups=$.grep(groups,function(n){return n});return groups.join(' ')}};$.payment.formatExpiry=function(expiry){var mon,parts,sep,year;parts=expiry.match(/^\D*(\d{1,2})(\D+)?(\d{1,4})?/);if(!parts){return''}mon=parts[1]||'';sep=parts[2]||'';year=parts[3]||'';if(year.length>0){sep=' / '}else if(sep===' /'){mon=mon.substring(0,1);sep=''}else if(mon.length===2||sep.length>0){sep=' / '}else if(mon.length===1&&mon!=='0'&&mon!=='1'){mon='0'+mon;sep=' / '}return mon+sep+year}}).call(this);
// $(document).ready(function(){
//     $('.banner_item a').mousemove(function(e){
//         var x = ((10/100) * Math.round((100/this.offsetWidth)*(e.pageX - this.offsetLeft))) * -1;
//         var y = ((10/100) * Math.round((100/this.offsetHeight)*(e.pageY - this.offsetTop))) * -1;
//         if( $(this).attr("livre")==1 )
//         {
//             $(this).find("img").css({'margin-left':x+'px','margin-top':y+'px'});// + y + 'px'
//         }
//     });
//     $('.banner_item a').mouseenter(function(e){
//         var x = ((10/100) * Math.round((100/this.offsetWidth)*(e.pageX - this.offsetLeft))) * -1;
//         var y = ((10/100) * Math.round((100/this.offsetHeight)*(e.pageY - this.offsetTop))) * -1;
//         $(this).attr("livre",0);
//         $(this).find("img").stop().animate({width:483,height:224,marginLeft:x,marginTop:y}, 'fast',function(){
//             $(this).parent().parent().attr("livre",1);
//         });
//     });
//     $('.banner_item a').mouseleave(function(e){
//         $(this).attr("livre",0);
//         $(this).find("img").animate({width:463,height:215,marginTop:0,marginLeft:0}, 'fast');
//     });
// });
const MJS_Cadastro={data:{ajaxBusy:false},login:function(form){const data=new FormData(form);const oReq=new XMLHttpRequest;oReq.onload=function(){console.log(this);console.log(this.responseText);const retorno=Util.isJson(this.responseText);if(retorno!==false){if(retorno.error==0){window.location.reload()}else{alert(retorno.message)}}else{alert("N\xE3o foi poss\xEDvel completar a requisi\xE7\xE3o, tente novamente mais tarde.")}Util.reloadNoCSRF(form.csrf_token)};oReq.open("post","/site/direct-includes/modulo-cadastro-ajax-controller.php");oReq.send(data)},recoverPass:function(form){const data=new FormData(form);const emailCheck=data.get("email");if(emailCheck.trim()!=""){data.set("ac","recoveryPass");const oReq=new XMLHttpRequest;oReq.onload=function(){const retorno=Util.isJson(this.responseText);if(retorno!==false){if(retorno.error==0){alert("Um e-mail lhe foi enviado com os passos para a redefinir\xE7\xE3o da sua senha.")}else{alert(retorno.message)}}else{alert("N\xE3o foi poss\xEDvel completar a requisi\xE7\xE3o, tente novamente mais tarde.")}Util.reloadNoCSRF(form.csrf_token)};oReq.open("post","/site/direct-includes/modulo-cadastro-ajax-controller.php");oReq.send(data)}else{alert("Informe seu e-mail para recupera\xE7\xE3o de senha.")}},register:function(form){const data=new FormData(form);const oReq=new XMLHttpRequest;oReq.onload=function(){const retorno=Util.isJson(this.responseText);if(retorno!==false){if(retorno.error==0){alert("Seu cadastro foi realizado com sucesso.");window.location.reload()}else{alert(retorno.message)}}else{alert("N\xE3o foi poss\xEDvel completar a requisi\xE7\xE3o, tente novamente mais tarde.")}Util.reloadNoCSRF(form.csrf_token)};oReq.open("post","/site/direct-includes/modulo-cadastro-ajax-controller.php");oReq.send(data)},activateAccount:function(form){const data=new FormData(form);const oReq=new XMLHttpRequest;$("#cd_ativacao_form").slideUp("fast");$(".cd_ativa_preloader").slideDown("fast");oReq.onload=function(){console.log(this);console.log(this.responseText);let retorno=Util.isJson(this.responseText);if(retorno!==false){let _retorno=JSON.parse(this.responseText);if(_retorno.error==0){$(".mensagem_sucesso").slideDown("fast");$(".cd_ativa_preloader").slideUp("fast");setTimeout(function(){window.location.reload()},3000)}else{$(".cd_ativa_preloader").slideUp("fast");$("#cd_ativacao_form").slideDown("fast");$("#cdAtivaModal #error-box").html(_retorno.message);$("#cdAtivaModal #error-box").slideDown("fast")}}else{$(".cd_ativa_preloader").slideUp("fast");$("#cd_ativacao_form").slideDown("fast");$("#cdAtivaModal #error-box").html("N\xE3o foi poss\xEDvel completar a requisi\xE7\xE3o, tente novamente mais tarde.");$("#cdAtivaModal #error-box").slideDown("fast")}// Util.reloadNoCSRF(form.csrf_token);
};oReq.open("post","/site/direct-includes/modulo-cadastro-ajax-controller.php");oReq.send(data)},lpSaveData:function(dataPage){// console.log(dataPage);
$.ajax({type:"POST",url:"/site/direct-includes/modulo-cadastro-ajax-controller.php",data:{ac:"lpSaveData",dataPage:dataPage}}).done(function(data){let dataObj=JSON.parse(data.trim());if(dataObj.error==0){alert("P\xE1gina Salva com sucesso!")}else{alert("N\xE3o foi poss\xEDvel salvar: "+dataObj.message)}}).always(function(){})},lpSaveUrl:function(url){$.ajax({type:"POST",url:"/site/direct-includes/modulo-cadastro-ajax-controller.php",data:{ac:"lpSaveUrl",url:url}}).done(function(data){data=data.trim();if(data=="ok"){alert("Url Salva com sucesso!")}else{alert("N\xE3o foi poss\xEDvel salvar: "+data)}}).always(function(){})},ckToken:function(){if(!MJS_Cadastro.data.ajaxBusy){MJS_Cadastro.data.ajaxBusy=true;const oReq=new XMLHttpRequest;oReq.onload=function(){console.log(this.responseText);MJS_Cadastro.data.ajaxBusy=false;if(this.responseText.trim()=="forbided"){window.location.reload()}};oReq.open("get","/site/direct-includes/modulo-cadastro-ajax-controller.php?ac=ckToken");oReq.send()}},init:function(){//Ativa a checagem de logim em unico device.
MJS_Cadastro.ckToken();setInterval(function(){MJS_Cadastro.ckToken()},2000)}};MJS_Cadastro.init();function checkCadastroNewsletter(form,cmd){var nome,email,send;nome=form.nome.value;email=form.email.value;area_interesse=form.area_interesse.value;send=true;if(nome.trim()===""){$("#"+cmd+" .newsletter_help").html("Preencha o campo nome!");send=false}if(email.trim()===""||!Util.isEmail(email)){$("#"+cmd+" .newsletter_help").html("Preencha o e-mail corretamente!");send=false}if(send){$("#"+cmd+" .newsletter_help").fadeOut();$.ajax({type:"POST",url:"/site/direct-includes/modulo-cadastro-ajax-controller.php",data:{nome:nome,email:email,area_interesse:area_interesse,ac:"newsRegister",exe:1}}).done(function(data){let dataJ=JSON.parse(data);if(dataJ.message.trim()=="sucesso"){$("#"+cmd+" .newsletter_help").html("Seu cadastro foi realizado com sucesso!");$("#"+cmd+" .newsletter_help").removeClass("alert-danger");$("#"+cmd+" .newsletter_help").addClass("alert-success");$("#"+cmd+" .newsletter_help").fadeIn("fast",function(){setTimeout(function(){$("#"+cmd+" .newsletter_help").fadeOut("fast")},3000)});form.reset()}else{console.log(data);$("#"+cmd+" .newsletter_help").html("Ocorreu um problema, tente novamente em instantes.");$("#"+cmd+" .newsletter_help").addClass("alert-danger");$("#"+cmd+" .newsletter_help").removeClass("alert-success");$("#"+cmd+" .newsletter_help").fadeIn("fast",function(){setTimeout(function(){$("#"+cmd+" .newsletter_help").fadeOut("fast")},3000)})}})}else{$("#"+cmd+" .newsletter_help").addClass("alert-danger");$("#"+cmd+" .newsletter_help").removeClass("alert-success");$("#"+cmd+" .newsletter_help").fadeIn("fast",function(){setTimeout(function(){$("#"+cmd+" .newsletter_help").fadeOut("fast")},3000)})}}function checkCadastroInicial(form){var email=form.email.value;var alterar_senha=true;var senha=form.senha.value;var senha_conf=form.senha_conf.value;var send=true;$(form).find("input-group").removeClass("has-error");/*
    form.nome.style.backgroundColor = "#f7f7f7";
    form.telefone_resid.style.backgroundColor = "#f7f7f7";
    form.telefone_comer.style.backgroundColor = "#f7f7f7";
    form.celular.style.backgroundColor = "#f7f7f7";
    form.senha.style.backgroundColor = "#f7f7f7";
    form.senha_conf.style.backgroundColor = "#f7f7f7";*/if(!Util.isEmail(email)){$("#msg-box-cadastro-novo").append("Indique um e-mail v\xE1lido!<br/>");$(form.email).parent().addClass("has-error");send=false}if(form.termos){if(form.termos.checked==false){$("#msg-box-cadastro-novo").append("Voc\xEA precisa aceitar os nossos termos de uso!<br/>");send=false}}if(alterar_senha){if(senha!=senha_conf){$(form.senha).parent().addClass("has-error");$(form.senha_conf).parent().addClass("has-error");//form.senha.style.backgroundColor = "#fedbdd";
//form.senha_conf.style.backgroundColor = "#fedbdd";
$("#msg-box-cadastro-novo").append("As confirma\xE7\xE3o de senha deve ser igual a senha.<br/>");send=false}else if(senha.length<6){$(form.senha).parent().addClass("has-error");//$(form.senha_conf).addClass("has-error");
//form.senha.style.backgroundColor = "#fedbdd";
//form.senha_conf.style.backgroundColor = "#fedbdd";
$("#msg-box-cadastro-novo").append("A senha deve ter no m\xEDnimo 6 caracteres.");send=false}}if(send){$("input").removeAttr("disabled");$("html, body").animate({scrollTop:$(document.body).offset().top},"slow");$("#msg-box-cadastro-novo").slideUp("fast");setTimeout(function(){form.submit()},1500)}else{$("html, body").animate({scrollTop:$(document.body).offset().top},"slow");$("#msg-box-cadastro-novo").slideDown("fast");setTimeout(function(){$("#msg-box-cadastro-novo").slideUp("fast");$("#msg-box-cadastro-novo").html("")},5000)}}function checkCadastroUpdate(form){var cpf_cnpj=form.cpf_cnpj.value;var alterar_senha=false;if(form!=document.cadastro_form){var senha_antiga=form.senha_antiga.value;alterar_senha=form.alterar_senha.checked}var senha=form.senha.value;var senha_conf=form.senha_conf.value;var send=true;$(form).find("input-group").removeClass("has-error");//REMOVER BLOCO NA PROXIMA LIBERACAO
// cpf = cpf.replace(".", "").replace(".", "").replace("-", "");
// if(verificaCpf(cpf) == false){
//     $(form.cpf).parent().addClass("has-error");
//     $("#alerts-help").html("Insira um CPF válido!");
//     send = false;
// }
cpf_cnpj=cpf_cnpj.replace(/\D/g,"");if(cpf_cnpj.length===11){//Valida como CPF
if(verificaCpf(cpf_cnpj)==false){$(form.cpf_cnpj).parent().addClass("has-error");send=false;$("#alerts-help").html("O CPF/CNPJ informado \xE9 inv\xE1lido.<br/>")}}else{//Valida como CNPJ
if(verificaCNPJ(cpf_cnpj)==false){$(form.cpf_cnpj).parent().addClass("has-error");$("#alerts-help").html("O CPF/CNPJ informado \xE9 inv\xE1lido.<br/>");send=false}}if(alterar_senha==true){console.log("Se Altera Senha");if(senha!=senha_conf){console.log("Se Diverge");$(form.senha).parent().addClass("has-error");$(form.senha_conf).parent().addClass("has-error");$("#alerts-help").html("As confirma\xE7\xE3o de senha deve ser igual a senha.");send=false}else if(senha.length<6){console.log("Se Senha com menos de 6 caracteres");$(form.senha).parent().addClass("has-error");$(form.senha_conf).parent().addClass("has-error");$("#alerts-help").html("A senha deve ter no m\xEDnimo 6 caracteres.");send=false}}if(send){console.log("Envio OK");$("html, body").animate({scrollTop:$(document.body).offset().top},"slow");$(form).slideUp("fast");$(".form-cadastro .alert").slideUp("fast");$(".alert-loader").slideDown("fast");setTimeout(function(){form.submit()},1500)}else{console.log("Envio N\xE3o OK");$("html, body").animate({scrollTop:$(document.body).offset().top},"slow");$("#alerts-help").slideDown("fast");setTimeout(function(){$("#alerts-help").slideUp("fast")},5000)}// else{
//     $('html, body').animate({ scrollTop: $(document.body).offset().top}, 'slow');
//     $(form).slideUp("fast");
//     $(".form-cadastro .alert").slideUp("fast");
//     $(".alert-loader").slideDown("fast");
//     setTimeout(function(){
//         console.log('GoSubmit');
//         form.submit();
//     }, 1500);
// }
}function checkCadastro(form){var cpf=form.cpf.value;var telefone_resid=form.telefone_resid.value;var telefone_comer=form.telefone_comer.value;var celular=form.celular.value;if(form!=document.cadastro_form){var senha_antiga=form.senha_antiga.value;var alterar_senha=form.alterar_senha.checked}else{alterar_senha=true}var senha=form.senha.value;var senha_conf=form.senha_conf.value;var send=true;form.cpf.style.backgroundColor="#f7f7f7";form.telefone_resid.style.backgroundColor="#f7f7f7";form.telefone_comer.style.backgroundColor="#f7f7f7";form.celular.style.backgroundColor="#f7f7f7";form.senha.style.backgroundColor="#f7f7f7";form.senha_conf.style.backgroundColor="#f7f7f7";if(telefone_resid==""&&telefone_comer==""&&celular==""){$("#contato-help").html("Indique pelo menos um n\xFAmero de contato, incluindo o DDD!");send=false}else{if(telefone_resid.length<10&&telefone_resid!=""){$("#contato-help").html("O telefone RESIDENCIAL precisa estar em um formato v\xE1lido indicado!");send=false}if(telefone_comer.length<10&&telefone_comer!=""){$("#contato-help").html("O telefone COMERCIAL precisa estar em um formato v\xE1lido indicado!");send=false}if(celular.length<10&&celular!=""){$("#contato-help").html("O telefone CELULAR precisa estar em um formato v\xE1lido indicado!");send=false}}if(form.genero.value==""){$("#contato-help").html("Indique o seu g\xEAnero!");send=false}if(form.termos){if(form.termos.checked==false){$("#contato-help").html("Voc\xEA precisa aceitar os nossos termos e condi\xE7\xF5es!");send=false}}cpf=cpf.replace(".","").replace(".","").replace("-","");if(verificaCpf(cpf)==false){form.cpf.style.backgroundColor="#fedbdd";$("#contato-help").html("Insira um CPF v\xE1lido!");send=false}if(alterar_senha==true){if(senha!=senha_conf){form.senha.style.backgroundColor="#fedbdd";form.senha_conf.style.backgroundColor="#fedbdd";$("#contato-help").html("As confirma\xE7\xE3o de senha deve ser igual a senha.");send=false}else if(senha.length<6){form.senha.style.backgroundColor="#fedbdd";form.senha_conf.style.backgroundColor="#fedbdd";$("#contato-help").html("A senha deve ter no m\xEDnimo 6 caracteres.");send=false}if(send){$("input").removeAttr("disabled");$("html, body").animate({scrollTop:$(document.body).offset().top},"slow");$(".form-cadastro .alert").slideUp("fast");$(".alert-loader").slideDown("fast");setTimeout(function(){form.submit()},1500)}else{$("html, body").animate({scrollTop:$(document.body).offset().top},"slow");$("#contato-help").slideDown("fast");setTimeout(function(){$("#contato-help").slideUp("fast")},5000)}}else{$("html, body").animate({scrollTop:$(document.body).offset().top},"slow");$(".form-cadastro .alert").slideUp("fast");$(".alert-loader").slideDown("fast");setTimeout(function(){form.submit()},1500)}}function verificaEmailAtual(){email_atual=document.getElementById("email_atual").value;email=document.getElementById("email").value;if(email_atual!=email){$(".email_info").html("<i class=\"fa fa-info-circle\"></i> Ao alterar o e-mail, voc\xEA ser\xE1 direcionado para uma tela de login e passar\xE1 novamente pelo processo de ativa\xE7\xE3o da sua conta.")}else{$(".email_info").html("")}}$(document).ready(function(){if($("#cadastro_form").length>0){if(document.cadastro_form.alterar_senha!=null){document.cadastro_form.alterar_senha.checked=false}var cep=document.cadastro_form.cep.value;console.log(document.cadastro_form.endereco.value+"");if(document.cadastro_form.endereco.value==""){console.log(achaEndereco(cep))}};if($("#alert-bts").length>0){setTimeout(function(){$("#alert-bts").slideUp("fast")},5000)};});function verificaCpf(strCPF){var Soma;var Resto;console.log(strCPF);var cpf=strCPF.replace(/\D/g,"");console.log(cpf);Soma=0;if(cpf=="00000000000"||cpf=="11111111111"||cpf=="22222222222"||cpf=="33333333333"||cpf=="44444444444"||cpf=="55555555555"||cpf=="66666666666"||cpf=="77777777777"||cpf=="88888888888"||cpf=="999999999999"){return false}for(var i=1;i<=9;i++)Soma=Soma+parseInt(cpf.substring(i-1,i))*(11-i);Resto=Soma*10%11;if(Resto==10||Resto==11)Resto=0;if(Resto!=parseInt(cpf.substring(9,10)))return false;Soma=0;for(var i=1;i<=10;i++)Soma=Soma+parseInt(cpf.substring(i-1,i))*(12-i);Resto=Soma*10%11;if(Resto==10||Resto==11)Resto=0;if(Resto!=parseInt(cpf.substring(10,11)))return false;return true}function verificaCNPJ(cnpj){cnpj=cnpj.replace(/[^\d]+/g,"");if(cnpj=="")return false;if(cnpj.length!=14)return false;// Elimina CNPJs invalidos conhecidos
if(cnpj=="00000000000000"||cnpj=="11111111111111"||cnpj=="22222222222222"||cnpj=="33333333333333"||cnpj=="44444444444444"||cnpj=="55555555555555"||cnpj=="66666666666666"||cnpj=="77777777777777"||cnpj=="88888888888888"||cnpj=="99999999999999")return false;// Valida DVs
let tamanho=cnpj.length-2;let numeros=cnpj.substring(0,tamanho);let digitos=cnpj.substring(tamanho);let soma=0;let pos=tamanho-7;for(var i=tamanho;i>=1;i--){soma+=numeros.charAt(tamanho-i)*pos--;if(pos<2)pos=9}let resultado=soma%11<2?0:11-soma%11;if(resultado!=digitos.charAt(0))return false;tamanho=tamanho+1;numeros=cnpj.substring(0,tamanho);soma=0;pos=tamanho-7;for(var i=tamanho;i>=1;i--){soma+=numeros.charAt(tamanho-i)*pos--;if(pos<2)pos=9}resultado=soma%11<2?0:11-soma%11;if(resultado!=digitos.charAt(1))return false;return true}function checkSenhaReset(form){let senhaPass=true;let msg="";if(form.senha.value!=form.senha_confirm.value){senhaPass=false;msg="Confirme sua nova senha corretamente!"};if(form.senha.value.length<4){senhaPass=false;msg="Sua nova senha deve ter no m\xEDnimo 4 caracteres!"};if(senhaPass){form.submit()}else{$("#error-box-combinacao-pass").html(msg);$("#error-box-combinacao-pass").slideDown("fast",function(){setTimeout(function(){$("#error-box-combinacao-pass").slideUp()},3000)})}}
$(document).ready(function(){// $(".galeria_lista_g").cycle({
// 	fx:     'fade',
// 	speed:  'fast',
// 	timeout: 4000,
// 	width : "100%",
// 	pager:  '#gmnav',
// 	pagerAnchorBuilder: function(idx, slide) {
// 	  return '#gmnav li:eq(' + idx + ') a';
// 	},
// 	before: function(curr,next,opts){
// 		//$('.galeria_lista_p').jcarousel('scroll', opts.nextSlide);
// 	}
//  });
// $(".galeria_lista_g").cycle("pause");
// $('.galeria_lista_p').jcarousel();
// $('.prev-navigation')
//    .on('jcarouselcontrol:active', function() {
//        $(this).removeClass('inactive');
//    })
//    .on('jcarouselcontrol:inactive', function() {
//        $(this).addClass('inactive');
//    })
//    .jcarouselControl({
//        target: '-=4'
//    });
// $('.next-navigation')
//    .on('jcarouselcontrol:active', function() {
//        $(this).removeClass('inactive');
//    })
//    .on('jcarouselcontrol:inactive', function() {
//        $(this).addClass('inactive');
//    })
//    .jcarouselControl({
//        target: '+=4'
//    });
});
$(window).on('load',function(){if($('#faq-accordion').length>0){$('#faq-accordion').accordion({collapsible:true});$('#faq-accordion').on('click',function(event,ui){setTimeout(function(){var activeIndex=$('#faq-accordion').accordion('option','active');$('html, body').animate({scrollTop:$('#faq-accordion .item-h').eq(activeIndex).offset().top-80},'slow')},500)})};});
const oAppCurso={data:{notaAjaxCall:false,aulaId:0,moduloId:0,cursoId:0,oVideo:{player:null,stateOfEnd:false,stateOfStart:false}},resetAulaOnPlayer:function(){var urlVideo='';var iframe=document.querySelector('#aulaPlayer');iframe.src=urlVideo;//Atualiza o objeto Vimeo
oAppCurso.data.oVideo.player=null;$('.modulo_img_ilustra').slideDown('fast');$('.modulo_aula_player').slideUp('fast');$('.avaliacao_form_aula_nome').html('');$('.notas_aula_nome').html('');$('.i-aula-nome').html('');$('.i-aula-tempo').html('');$('.i-aula-descricao').html('')},loadAulaOnPlayer:function(midiaId){oAppCurso.data.oVideo.stateOfEnd=false;oAppCurso.data.oVideo.stateOfStart=false;if(oAppCurso.data.oVideo.player!=null){oAppCurso.data.oVideo.player.destroy();oAppCurso.data.oVideo.player=null;$('.aula_player').append('<iframe id="aulaPlayer" src="" width="400" height="300" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen ></iframe>')}var urlVideo='https://player.vimeo.com/video/'+midiaId;var iframe=document.querySelector('#aulaPlayer');//Carrega o url no iframe
iframe.src=urlVideo;//Atualiza o objeto Vimeo
console.log(oAppCurso.data.oVideo.player);oAppCurso.data.oVideo.player=new Vimeo.Player(iframe);console.log(oAppCurso.data.oVideo.player);oAppCurso.data.oVideo.player.on('play',oAppCurso.setAcPlayerPlay);oAppCurso.data.oVideo.player.on('timeupdate',oAppCurso.setAcPlayerTimeUpdate);oAppCurso.data.oVideo.player.on('ended',oAppCurso.setAcPlayerEnded);oAppCurso.data.oVideo.player.getVideoTitle().then(function(title){console.log('title:',title)})},setAcPlayerPlay:function(e){console.log('Played the video');//Para o video carregado é registrado um log de inicio apenas.
if(!oAppCurso.data.oVideo.stateOfStart){oAppCurso.data.oVideo.stateOfStart=true;$.ajax({type:'POST',url:'/site/direct-includes/modulo-curso-ajax-controller.php',data:{ac:'moduloPlayerPlay',midiaId:oAppCurso.data.aulaId//csrf_token:form.csrf_token.value
}}).done(function(response){//Registra o log de assitir aula, e já valida se a cota de aulas asistidas chegou ao limite.
console.log(response);const retorno=JSON.parse(response);if(retorno.error==1){// alert(retorno.message);
if(retorno.message.trim()=='limite_reach'){//recuperar a nota salva para a aula solicitada.
alert('Voce atingiu o limite de 3 vezes para assistir a aula atual.\nFale com nosso atendimento para obter um limite maior.');//Redefine as opcoes de acesso da midia.
$('a[data-midia-id="'+oAppCurso.data.aulaId+'"]').attr('data-midia','limite_reach');$('a[data-midia-id="'+oAppCurso.data.aulaId+'"]').find('.aula-thumb').addClass('restrito');oAppCurso.resetAulaOnPlayer()}}})}},setAcPlayerEnded:function(e){console.log('Ended the video');if(!oAppCurso.data.oVideo.stateOfEnd){oAppCurso.data.oVideo.stateOfEnd=true;$.ajax({type:'POST',url:'/site/direct-includes/modulo-curso-ajax-controller.php',data:{ac:'moduloPlayerEnded',midiaId:oAppCurso.data.aulaId//csrf_token:form.csrf_token.value
}}).done(function(response){console.log(response)})}},setAcPlayerTimeUpdate:function(e){if(e.percent>0.8){//Para o video carregado é registrado um log de encerramento apenas.
if(!oAppCurso.data.oVideo.stateOfEnd){oAppCurso.data.oVideo.stateOfEnd=true;console.log('Ended the video - Time');$.ajax({type:'POST',url:'/site/direct-includes/modulo-curso-ajax-controller.php',data:{ac:'moduloPlayerEnded',midiaId:oAppCurso.data.aulaId//csrf_token:form.csrf_token.value
}}).done(function(response){console.log(response)})}}else{console.log(e.percent)}},notaLoad:function(){if(!oAppCurso.data.notaAjaxCall){oAppCurso.data.notaAjaxCall=true;$.ajax({type:'POST',url:'/site/direct-includes/modulo-curso-ajax-controller.php',data:{ac:'moduloNotaLoad',moduloId:oAppCurso.data.moduloId,midiaId:oAppCurso.data.aulaId//csrf_token:form.csrf_token.value
}}).done(function(response){oAppCurso.data.notaAjaxCall=false;console.log(response);const retorno=JSON.parse(response);if(retorno.error==0){//recupera a nota salva para a aula solicitada.
let notaData=retorno.resource;document.m_form_nota.usuario_nota_id.value=notaData.id;document.m_form_nota.usuario_nota.value=notaData.nota}}).always(function(){oAppCurso.data.notaAjaxCall=false})}},notaSave:function(){let _notaId=document.m_form_nota.usuario_nota_id.value;let _nota=document.m_form_nota.usuario_nota.value;console.log(_notaId);console.log(_nota);if(!oAppCurso.data.notaAjaxCall){oAppCurso.data.notaAjaxCall=true;$.ajax({type:'POST',url:'/site/direct-includes/modulo-curso-ajax-controller.php',data:{ac:'moduloNotaSave',moduloId:oAppCurso.data.moduloId,midiaId:oAppCurso.data.aulaId,notaId:_notaId,nota:_nota//csrf_token:form.csrf_token.value
}}).done(function(response){oAppCurso.data.notaAjaxCall=false;console.log(response);const retorno=JSON.parse(response);if(retorno.error==0){//atualiza a nota com o ID retornado
document.m_form_nota.usuario_nota_id.value=retorno.resource}}).always(function(){oAppCurso.data.notaAjaxCall=false})}},notaShow:function(){$('.modulo_informacoes').slideUp('fast');$('.modulo_usuario_notas').slideDown('fast')},notaHide:function(){$('.modulo_usuario_notas').slideUp('fast');$('.modulo_informacoes').slideDown('fast')},aulaTopicosShow:function(){$('.modulo_informacoes').slideUp('fast');$('.modulo_aula_opcoes').slideDown('fast')},aulaTopicosHide:function(){$('.modulo_aula_opcoes').slideUp('fast');$('.modulo_informacoes').slideDown('fast')},avaliaSave:function(){let _nota=$('.avaliacao_star_select input:checked').val();let _comentario=document.m_form_avalia.avalia_comentario.value;console.log(_nota);if(isNaN(_nota)){alert('Marque seu voto para continuar.')}else{if(!oAppCurso.data.notaAjaxCall){oAppCurso.data.notaAjaxCall=true;$('#m_form_avalia').slideUp('fast');$('.avaliacao_preloader').slideDown('fast');$.ajax({type:'POST',url:'/site/direct-includes/modulo-curso-ajax-controller.php',data:{ac:'moduloAvaliaSave',midiaId:oAppCurso.data.aulaId,comentario:_comentario,nota:_nota//csrf_token:form.csrf_token.value
}}).done(function(response){oAppCurso.data.notaAjaxCall=false;console.log(response);const retorno=JSON.parse(response);$('#m_form_avalia').slideDown('fast');$('.avaliacao_preloader').slideUp('fast');if(retorno.error==0){document.m_form_avalia.reset();oAppCurso.data.aulaNota=_nota;//nota registrada com sucesso.
$('.avaliacao_star_select .stars_in').removeClass('voto_1 voto_2 voto_3 voto_4 voto_5');$('.avaliacao_container .stars_in').removeClass('voto_1 voto_2 voto_3 voto_4 voto_5');$('.avaliacao_container .stars_in').addClass('voto_'+_nota);$('.avaliacao_avalie').hide();$('a[data-midia-id="'+oAppCurso.data.aulaId+'"]').attr('data-midia-voto',_nota);alert('Sua avalia\xE7\xE3o foi registrada com sucesso.\nObrigado por participar!');$('#aulaAvaliaModal').modal('hide')}else{alert('N\xE3o foi poss\xEDvel completar sua solicita\xE7\xE3o. Tente novamente mais tarde, se o problema persistir entre em contato.')}}).always(function(){oAppCurso.data.notaAjaxCall=false})}}},avaliaShow:function(){if(oAppCurso.data.aulaNota<1){$('#aulaAvaliaModal').modal()}else{alert('Nota j\xE1 enviada.\nObrigado por participar.')}},avaliacaoSetStar:function(voto){$('.avaliacao_star_select .stars_in').removeClass('voto_1 voto_2 voto_3 voto_4 voto_5');$('.avaliacao_star_select .stars_in').addClass('voto_'+voto)},init:function(){console.log('oAppAula loaded...');oAppCurso.data.cursoId=typeof plataforma_curso_id!='undefined'?plataforma_curso_id:0;if($('.aulas_lista .aula_item a').length>0){$('.aulas_lista .aula_item a').click(function(e){$('.aulas_lista .aula_item').removeClass('active');e.preventDefault();oAppCurso.data.moduloId=$(this).attr('data-modulo-id');let midiaId=$(this).attr('data-midia-id');let midiaNota=$(this).attr('data-midia-voto');let midia=$(this).attr('data-midia');let midia_nome=$(this).attr('data-title');let midia_tempo=$(this).attr('data-time');let midia_data_libera_desc=$(this).attr('data-bloqueio-libera-desc');let midia_descricao=decodeHTMLEntities($(this).attr('data-description'));$('.avaliacao_container .stars_in').removeClass('voto_1 voto_2 voto_3 voto_4 voto_5');$('.avaliacao_container .stars_in').addClass('voto_'+midiaNota);$('.avaliacao_avalie').hide();if(midiaNota<=0){$('.avaliacao_avalie').show()}$('.modulo_aula_opcoes').slideUp('fast');$('.avaliacao_form_aula_nome').html('');if(midia.trim()=='embreve'){$('.aulas_lista .aula_item').removeClass('active');alert(midia_data_libera_desc)}else if(midia.trim()=='restrito'){$('.aulas_lista .aula_item').removeClass('active');alert('Exclusivo aluno matriculado!')}else if(midia.trim()=='limite_reach'){$('.aulas_lista .aula_item').removeClass('active');alert('Voce atingiu o limite de 3 vezes para assistir a aula atual.\nFale com nosso atendimento para obter um limite maior.')}else{$('.modulo_img_ilustra').slideUp('fast');$('.modulo_aula_player').slideDown('fast',function(){$('html, body').animate({scrollTop:$('.modulo_aula_player').offset().top-20},'slow')});$('.modulo_aula_opcoes').slideDown('fast');$('.avaliacao_form_aula_nome').html(midia_nome);$('.notas_aula_nome').html(midia_nome);$('.i-aula-nome').html(midia_nome);$('.i-aula-tempo').html(midia_tempo);$('.i-aula-descricao').html(midia_descricao);$(this).parent().addClass('active');oAppCurso.data.aulaId=midiaId;oAppCurso.data.aulaNota=midiaNota;oAppCurso.notaLoad();oAppMensagem.comentariosLoad();oAppCurso.loadAulaOnPlayer(midia)}})}//Verifica se tem alguma aula para ser carregada.
window.addEventListener('load',function(){let aulaToLoad=$('#aulaLoad').val();if(!isNaN(aulaToLoad)&&aulaToLoad>0){if($('a[data-midia-id="'+aulaToLoad+'"]').length>0){$('a[data-midia-id="'+aulaToLoad+'"]').trigger('click')}}})}};function decodeHTMLEntities(text){var textArea=document.createElement('textarea');textArea.innerHTML=text;return textArea.value}const oAppCron={data:{cronAjaxCall:false},aulaFiltrar:function(){let moduloId=$('#cron_modulo').val();let cursoId=$('#cron_curso').val();if(!oAppCron.data.cronAjaxCall){oAppCron.data.cronAjaxCall=true;$('.aulas_preload').slideDown('fast');$('.aulas_listagem').slideUp('fast');$.ajax({type:'POST',url:'/site/direct-includes/modulo-curso-ajax-controller.php',data:{ac:'cronAulasList',moduloId:moduloId,cursoId:cursoId//csrf_token:form.csrf_token.value
}}).done(function(response){oAppCron.data.cronAjaxCall=false;$('.aulas_preload').slideUp('fast');//Registra o log de assitir aula, e já valida se a cota de aulas asistidas chegou ao limite.
// console.log(response);
const retorno=JSON.parse(response);if(retorno.error==0){$('.aulas_listagem').html(retorno.resource)}else{$('.aulas_listagem').html(retorno.message)}$('.aulas_listagem').slideDown('fast')}).always(function(){oAppCron.data.cronAjaxCall=false})}},aulaAdd:function(midiaId){if($('.aulas_listagem_added #item_aula_'+midiaId).length==0){$('#item_aula_'+midiaId).detach().appendTo('.aulas_listagem_added');oAppCron.aulaUpdateTime()}else{$('#item_aula_'+midiaId).remove()}},aulaAddAll:function(){if($('.aulas_listagem .item-aula').length>0){$('.aulas_listagem .item-aula').each(function(){let midiaId=$(this).attr('data-midia-id');if($('.aulas_listagem_added #item_aula_'+midiaId).length==0){$('#item_aula_'+midiaId).detach().appendTo('.aulas_listagem_added');oAppCron.aulaUpdateTime()}else{$('#item_aula_'+midiaId).remove()}});oAppCron.aulaUpdateTime()}else{alert('Nenhuma aula na rela\xE7\xE3o para incluir.')}},aulaDel:function(midiaId){$('.aulas_listagem_added #item_aula_'+midiaId).slideUp('fast',function(){$(this).remove();oAppCron.aulaUpdateTime()})},aulaUpdateTime:function(){let minutos_total=0;$('.aulas_listagem_added .item-aula').each(function(){let aula_tempo=$(this).attr('data-midia-duracao');minutos_total+=parseInt(aula_tempo)});console.log(minutos_total);var hours=minutos_total/60;var rhours=Math.floor(hours);var minutes=(hours-rhours)*60;var rminutes=Math.round(minutes);$('.cron-data-total-horas').html(rhours+'h '+rminutes+'m')},aulaCheckTime:function(){let minutos_total=0;$('.aulas_listagem_added .item-aula').each(function(){let aula_tempo=$(this).attr('data-midia-duracao');minutos_total+=parseInt(aula_tempo)});let hours=minutos_total/60;let rhours=Math.floor(hours);let minutes=(hours-rhours)*60;let rminutes=Math.round(minutes);rhours=rminutes>0?rhours+1:rhours;//Tempo em horas destinadas ao período de estudo.
let weekDaysTimes=new Array(0,0,0,0,0,0,0);let weekDaysTotalTime=0;let _dateIni=$('#cron_data_ini').val();let _dateFim=$('#cron_data_fim').val();console.log(_dateIni);console.log(_dateFim);let dtIni=new Date(_dateIni);let dtFim=new Date(_dateFim);console.log(dtIni);console.log(dtFim);let n_diasNoPeriodo=parseInt((dtFim-dtIni)/(24*3600*1000))+1;//o +1 é para incluir o dia final no intervalo total.
console.log(n_diasNoPeriodo);for(var i=0;i<n_diasNoPeriodo;i++){let dateDay=new Date(_dateIni);dateDay.setDate(dateDay.getDate()+i);let n_timeWeek=$('.dia_'+dateDay.getDay()+'_tempo').val();// tempo indicado no dia da semana pelo usuário.
weekDaysTimes[dateDay.getDay()]+=parseInt(n_timeWeek);console.log(dateDay.getDay())}console.log(weekDaysTimes);//Obtem o tempo total para o período indicado e valida.
for(var i=0;i<weekDaysTimes.length;i++){weekDaysTotalTime+=weekDaysTimes[i]}console.log(weekDaysTotalTime);if(weekDaysTotalTime>=rhours){return true;//o tempo total está ok para a quantidade de aulas selecionadas.
}return false},cronGetFormData:function(){let formData={ac:'',data_ini:$('#cron_data_ini').val(),data_fim:$('#cron_data_fim').val(),midiasIds:'',dia_0_tempo:$('.dia_0_tempo').val(),dia_1_tempo:$('.dia_1_tempo').val(),dia_2_tempo:$('.dia_2_tempo').val(),dia_3_tempo:$('.dia_3_tempo').val(),dia_4_tempo:$('.dia_4_tempo').val(),dia_5_tempo:$('.dia_5_tempo').val(),dia_6_tempo:$('.dia_6_tempo').val()};let midias_ids='';$('.aulas_listagem_added .item-aula').each(function(){let aula_id='!'+$(this).attr('data-midia-id')+'!';midias_ids+=aula_id});formData.midiasIds=midias_ids;return formData},cronPreviewLoad:function(){if($('.aulas_listagem_added .item-aula').length<=0){alert('Nenhuma aula selecionada.')}else if(!oAppCron.aulaCheckTime()){alert('O tempo nos dias da semana dentro do per\xEDodo informado \xE9 inferior ao tempo necess\xE1rio para assistir as aulas selecionadas.')}else{console.log('Tempo \xE9 ok');let formData=oAppCron.cronGetFormData();formData.ac='cronPreview';console.log(formData);$('.cronograma_sugerido').html('');$('.cronograma_sugerido').slideUp('fast');$('.s_cronograma_monta').slideUp('fast');$('.s_cronograma_sugerido').slideDown('fast');$('.cron_sugerido_preload').slideDown('fast');if(!oAppCron.data.cronAjaxCall){oAppCron.data.cronAjaxCall=true;$.ajax({type:'POST',url:'/site/direct-includes/modulo-curso-ajax-controller.php',data:formData}).done(function(response){oAppCron.data.cronAjaxCall=false;console.log(response);$('.cron_sugerido_preload').slideUp('fast');//Registra o log de assitir aula, e já valida se a cota de aulas asistidas chegou ao limite.
const retorno=JSON.parse(response);if(retorno.error==0){$('.cronograma_sugerido').html(retorno.resource)}else{$('.cronograma_sugerido').html(retorno.message)}$('.cronograma_sugerido').slideDown('fast');$('.s_cronograma_sugerido').slideDown('fast')}).always(function(){oAppCron.data.cronAjaxCall=false})}}},cronCreate:function(){if(!oAppCron.data.cronAjaxCall){oAppCron.data.cronAjaxCall=true;$('.cron_sugerido_preload').slideDown('fast');$('.s_cronograma_sugerido').slideUp('fast',function(){$.ajax({type:'POST',url:'/site/direct-includes/modulo-curso-ajax-controller.php',data:{ac:'cronCreate'//csrf_token:form.csrf_token.value
}}).done(function(response){oAppCron.data.cronAjaxCall=false;console.log(response);const retorno=JSON.parse(response);if(retorno.error==0){alert('Seu cronograma foi criado com sucesso!');window.location.href='/minha-conta/cronograma-de-estudo'}else{console.log();alert('N\xE3o foi poss\xEDvel criar seu cronograma, tente novamente mais tarde, se o problema persistir fale com nosso atendimento.');$('.cron_sugerido_preload').slideUp('fast');$('.s_cronograma_sugerido').slideDown('fast')}}).always(function(){oAppCron.data.cronAjaxCall=false})})}},cronDelete:function(){if(confirm('Ao refazer, seu cronograma atual ser\xE1 eliminado, essa a\xE7\xE3o n\xE3o pode ser desfeita.\n\nTem certeza que deseja continuar?')){if(!oAppCron.data.cronAjaxCall){oAppCron.data.cronAjaxCall=true;$('.cron_atual_preload').slideDown('fast');$('.s_cronograma_sugerido').slideUp('fast',function(){$.ajax({type:'POST',url:'/site/direct-includes/modulo-curso-ajax-controller.php',data:{ac:'cronDelete'//csrf_token:form.csrf_token.value
}}).done(function(response){oAppCron.data.cronAjaxCall=false;console.log(response);const retorno=JSON.parse(response);if(retorno.error==0){alert('Seu cronograma foi removido com sucesso!');window.location.href='/minha-conta/cronograma-de-estudo'}else{console.log();alert('N\xE3o foi poss\xEDvel remover seu cronograma, tente novamente mais tarde, se o problema persistir fale com nosso atendimento.');$('.cron_atual_preload').slideUp('fast');$('.s_cronograma_sugerido').slideDown('fast')}}).always(function(){oAppCron.data.cronAjaxCall=false})})}}},init:function(){console.log('oAppCron loaded...');if($('.aulas_listagem_added').lenght>0){$('.aulas_listagem_added').sortable();$('.aulas_listagem_added').disableSelection()}}};const oAppMensagem={data:{ajaxCall:false},comentariosLoad:function(){if(!oAppMensagem.data.ajaxCall){$('#dataComentarioContent').slideUp('fast');$('#loaderComentarioContent').slideDown('fast');oAppMensagem.data.ajaxCall=true;$.ajax({type:'POST',url:'/site/direct-includes/modulo-curso-ajax-controller.php',data:{ac:'moduloComentariosLoad',cursoId:oAppCurso.data.cursoId,moduloId:oAppCurso.data.moduloId,midiaId:oAppCurso.data.aulaId//csrf_token:form.csrf_token.value
}}).done(function(response){oAppMensagem.data.ajaxCall=false;console.log(response);$('#loaderComentarioContent').slideUp('fast');$('#dataComentarioContent').html(response);$('#dataComentarioContent').slideDown('fast')}).always(function(){oAppMensagem.data.ajaxCall=false})}},create:function(form){//Cria uma nova mensagem/resposta a mensagem existente.
let cursoId=form.cursoId.value;let midiaId=form.midiaId.value;let message=form.fMensagem.value;let messageId=form.messageId.value;if(!oAppMensagem.data.cronAjaxCall){oAppMensagem.data.cronAjaxCall=true;$('#formInfoMensRetorno').slideUp('fast',function(){$('#formInfoMensRetorno').removeClass('alert-success alert-danger')});$('#formInfoMensPreload').slideDown('fast');$('#frm_c_mensagem').slideUp('fast');$.ajax({type:'POST',url:'/site/direct-includes/modulo-curso-ajax-controller.php',data:{ac:'cursoMensSend',message:message.trim(),messageId:messageId,cursoId:cursoId,midiaId:midiaId//csrf_token:form.csrf_token.value
}}).done(function(response){oAppMensagem.data.cronAjaxCall=false;$('#formInfoMensPreload').slideUp('fast');//Registra o log de assitir aula, e já valida se a cota de aulas asistidas chegou ao limite.
console.log(response);const retorno=JSON.parse(response);console.log(retorno);if(retorno.error==0){$('#formInfoMensRetorno').addClass('alert-success');$('#formInfoMensRetorno').html('Seu coment\xE1rio foi enviado com sucesso!');$('#formInfoMensRetorno').stop().slideDown('fast',function(){form.fMensagem.value='';setTimeout(function(){$('#formInfoMensRetorno').stop().slideUp('fast');$('#frm_c_mensagem').slideDown('fast');$('#c_nova_mensagem').slideUp('fast');oAppMensagem.comentariosLoad()},5000)})}else{$('#formInfoMensRetorno').addClass('alert-danger');$('#formInfoMensRetorno').html(retorno.message);$('#formInfoMensRetorno').stop().slideDown('fast');$('#frm_c_mensagem').slideDown('fast')}$('.aulas_listagem').slideDown('fast')}).always(function(){oAppMensagem.data.cronAjaxCall=false})}},replyTo:function(messageId,cursoId,midiaId){//Responde uma mensagem.
let formMens=document.frm_c_mensagem;formMens.messageId.value=messageId;formMens.cursoId.value=cursoId;formMens.midiaId.value=midiaId;if(messageId!=0){$('#c_nova_mensagem .m_reply_to_message').parent().show();$('#c_nova_mensagem .m_reply_to_message').html($('#message_b_message_'+messageId+' .m_message_text').html())}else{$('#c_nova_mensagem .m_reply_to_message').parent().hide()}$('#c_nova_mensagem').slideDown('fast',function(){$('html, body').animate({scrollTop:$('#c_nova_mensagem').offset().top-50},1000)})},read:function(messageId){//Marca a menasgem como lida.
$('#mens-'+messageId).removeClass('alert-info unread');$('#mens-'+messageId).addClass('alert-secondary');//Define uma mensagem como lida.
if(!oAppCron.data.cronAjaxCall){oAppCron.data.cronAjaxCall=true;$.ajax({type:'POST',url:'/site/direct-includes/modulo-curso-ajax-controller.php',data:{ac:'cursoMensRead',messageId:messageId}}).done(function(response){oAppCron.data.cronAjaxCall=false}).always(function(){oAppCron.data.cronAjaxCall=false})}},getNoReadNumber:function(){//Obtem o número de mensagens não lidas.
},init:function(){//Inicializa com o estado inicial de mensagens.
}};oAppMensagem.init();oAppCron.init();oAppCurso.init();
var data_checkout;var checkout_method;function setMethod(method){checkout_method=method}function gatewayCheckoutData(theMessageArea){switch(parseInt(checkout_method)){case 1:/*Iugu*/return objIugu.checkoutData(theMessageArea);break;default:return true;break;}}function gatewayCheckIsReady(){switch(parseInt(checkout_method)){case 1:/*Iugu*/return objIugu.isReady();break;default:return true;break;}}function gatewayReloadInstallments(){console.log(checkout_method);switch(parseInt(checkout_method)){case 1:/*Iugu*/objIugu.loadInstalments();break;default:return true;break;}}function ckValidaDados(form,theMessageArea){var nome_completo=form.nome_completo.value;// var nome_informal = form.nome_informal.value;
// var data_nascimento = form.data_nascimento.value;
// var sexo = form.sexo.value;
var cpf_cnpj=form.cpf_cnpj.value;var telefone=form.telefone.value;var cep=form.cep.value;var estado=form.estado.value;var cidade=form.cidade.value;var endereco=form.endereco.value;var numero=form.numero.value;var complemento=form.complemento.value;var bairro=form.bairro.value;// var receber_boletim = (form.receber_boletim!=null) ? ( (form.receber_boletim.checked)?1:0 ) : 0;
var receber_boletim=1;var termos=form.termos!=null?form.termos.checked?true:false:false;var hasPass=form.senha!=null;var daddosValidos=true;var mensagemErro='';var payment_option=$('.payment_option:checked').val();var cpfCnpjLimpo=cpf_cnpj.replace(/\D/g,'');console.log(cpfCnpjLimpo);//console.log(cpfCnpjLimpo.length);
if(cpfCnpjLimpo.trim()==''){daddosValidos=false;mensagemErro+='- O CPF/CNPJ \xE9 requerido.<br/>';$(form.cpf).addClass('error')}else{if(cpfCnpjLimpo.length===11){//Valida como CPF
if(verificaCpf(cpfCnpjLimpo)==false){daddosValidos=false;mensagemErro+='- O CPF informado \xE9 inv\xE1lido.<br/>';$(form.cpf_cnpj).addClass('error')}}else{//Valida como CNPJ
if(verificaCNPJ(cpfCnpjLimpo)==false){daddosValidos=false;mensagemErro+='- O CNPJ informado \xE9 inv\xE1lido.<br/>';$(form.cpf_cnpj).addClass('error')}}}// if (data_nascimento!=""){
// 	if (!Util.isDate(data_nascimento)){
// 		daddosValidos = false;
// 		mensagemErro += "- A Data de Nascimento informada é inválida.<br />";
// 		$(form.data_nascimento).addClass("error");
// 	}
// }
if(!termos&&hasPass){daddosValidos=false;mensagemErro+='- Certifique-se de que leu e aceita nossos termos de uso.<br />'}var email=form.email.value;var senha=null;if(!Util.isEmail(email)){daddosValidos=false;mensagemErro+='- Informe um e-mail v\xE1lido.<br />';$(form.email).addClass('error')}// if (hasPass){
// 	email = form.email.value;
// 	senha = form.senha.value;
// 	var senha_c = form.senha_c.value;
// 	if (senha.trim()==""){
// 		daddosValidos = false;
// 		mensagemErro += "- Informe uma senha.<br />";
// 		$(form.cpf).addClass("error");
// 	}else if (senha != senha_c)
//     {
//         daddosValidos = false;
//         mensagemErro += "- A confirmação de senha deve ser igual a senha.<br />";
//         $(form.senha_c).addClass("error");
//     }else if(senha.length < 6){
//     	daddosValidos = false;
//         mensagemErro += "- A senha deve ter no mínimo 6 caracteres.<br />";
//         $(form.senha).addClass("error");
//     }
// }
if(payment_option=='boleto'){if(cep.trim()==''){daddosValidos=false;mensagemErro+='- O CEP \xE9 requerido.<br/>';$(form.cep).addClass('error')}if(endereco.trim()==''){daddosValidos=false;mensagemErro+='- O Endere\xE7o \xE9 requerido.<br/>';$(form.endereco).addClass('error')}if(numero.trim()==''){daddosValidos=false;mensagemErro+='- O N\xFAmero \xE9 requerido.<br/>';$(form.numero).addClass('error')}if(cidade.trim()==''){daddosValidos=false;mensagemErro+='- O Cidade \xE9 requerido.<br/>';$(form.cidade).addClass('error')}if(estado.trim()==''){daddosValidos=false;mensagemErro+='- O Estado \xE9 requerido.<br/>';$(form.estado).addClass('error')}}if(daddosValidos){data_checkout={ac:'ecomCheckout',processa:1,nome_completo:nome_completo,// nome_informal:nome_informal, 
// data_nascimento:data_nascimento, 
// sexo:sexo,
cpf_cnpj:cpf_cnpj,telefone:telefone,cep:cep,estado:estado,cidade:cidade,endereco:endereco,numero:numero,complemento:complemento,bairro:bairro,forma_pagamento:checkout_method,receber_boletim:receber_boletim,email:email// senha:null
};// if (hasPass){
// 	data_checkout.email = email;
// 	data_checkout.senha = senha;
// }
return true}else{$('html, body').animate({scrollTop:$(form).offset().top-150},'slow');$(theMessageArea).html(mensagemErro);$(theMessageArea).stop().slideDown('fast',function(){$(theMessageArea).css('height','auto');setTimeout(function(){$(theMessageArea).slideUp('fast')},35000)});return false}}var cepInfoIsLoading=false;var cepInfoTryLoad=0;function ckCompletaEnderecoPorCEP(form){var cep=form.cep.value;console.log(cep.length);if(cep.length==9){if(!cepInfoIsLoading){cepInfoIsLoading=true;$.ajax({type:'POST',url:'/site/direct-includes/modulo-cadastro-ajax-controller.php',data:{ac:'addressByCEP',cep:cep//csrf_token:form.csrf_token.value
}}).done(function(data){data=data.trim();cepInfoIsLoading=false;console.log(data);let dataArr=data.split('&');if(data.trim()!=='erro'&&dataArr.length>1){form.endereco.value=dataArr[0];form.bairro.value=dataArr[1];form.cidade.value=dataArr[2];form.estado.value=dataArr[3]}if(freteInfoTryLoad==1){freteInfoTryLoad=0;ckCompletaEnderecoPorCEP(form)}// else{
// 	if(data.trim() == 'erro'){
// 		alert('Não foi possível obter o seu endereço com base no CEP informado, certifique-se de que o CEP está correto.');
// 	}
// }
// Util.reloadNoCSRF(document.form_checkout.csrf_token);
}).always(function(){cepInfoIsLoading=false})}}}function ckRegistraPedido(form,theMessageArea){//Captura os dados de pagamento
console.log(data_checkout);//Trackers - Facebook/Analytics Tracking
if(CursoFacebookPixelID!=null){if(CursoFacebookPixelID.trim()!=''){fbq('init',CursoFacebookPixelID);fbq('trackSingle',CursoFacebookPixelID,'InitiateCheckout')}}//Trackers - Facebook/Analytics Tracking
if(CursoGTMID!=null){if(CursoGTMID.trim()!=''){gtag('config',CursoGTMID);gtag('event','begin_checkout')}}$(form).slideUp('fast');$('.carrinho-checkout').slideUp('fast');$('#action_preloader').slideDown('fast',function(event){$.ajax({url:'/site/direct-includes/modulo-ecommerce-ajax-controller.php',type:'POST',data:data_checkout,success:function(data,textStatus,jqXHR){//console.log(data);
var retorno;try{retorno=JSON.parse(data);//console.log(retorno);
}catch(exception){retorno=false}if(retorno===false){$('.carrinho-checkout').slideDown('fast');$(form).slideDown('fast');$('#action_preloader').slideUp('fast');$(theMessageArea).html(data);$(theMessageArea).slideDown('fast')}else{if(retorno.error==0){$('#action_preloader').slideUp('fast');$('#action_sucesso').html(retorno.message);$('#action_sucesso').slideDown('fast',function(event){//ckIniciaTransacao(retorno.url_pagamento);
console.log(checkout_method);console.log(data_checkout);switch(parseInt(checkout_method)){case 1://Iugu flow
console.log(data_checkout.paymentMethod);console.log(retorno);if(retorno.pagamento.code.trim()=='paid'||retorno.pagamento.code.trim()=='pending'){switch(data_checkout.paymentMethod){case'creditCard':window.location.href='/pedido-concluido/?pcodigo='+retorno.pedido_codigo;break;case'debitCard':if(retorno.pagamento.code==2){window.location.href='/pedido-concluido/?pcodigo='+retorno.pedido_codigo}else{if(retorno.url_pagamento!=null){window.open(retorno.url_pagamento,'winPayment','width=700,height=600')}$('#action_sucesso').append('<br /><br /><small>Caso a janela de pagamento n\xE3o seja carregada, <a href="#" onclick="javascript:abreJanelaRedireciona(\''+retorno.url_pagamento+'\',\'/pedido-concluido/?pcodigo='+retorno.pedido_codigo+'\');" >clique aqui para iniciar!</a></small>')}break;case'pix':case'boleto':window.location.href='/pedido-concluido/?pcodigo='+retorno.pedido_codigo;// if (retorno.url_pagamento!=null) {
// 	window.open(retorno.url_pagamento,"winPayment","width=700,height=600");
// }
// $('#action_sucesso').append('<br /><br /><small>Caso a janela de pagamento não seja carregada, <a href="#" onclick="javascript:abreJanelaRedireciona(\''+retorno.url_pagamento+'\',\'/pedido-concluido/?pcodigo='+retorno.pedido_codigo+'\');" >clique aqui para visualizar o seu boleto!</a></small>');
break;case'eft':if(retorno.pagamento.code==2){window.location.href='/pedido-concluido/?pcodigo='+retorno.pedido_codigo}else{if(retorno.url_pagamento!=null){window.open(retorno.url_pagamento,'winPayment','width=700,height=600')}$('#action_sucesso').append('<br /><br /><small>Caso a janela de pagamento n\xE3o seja carregada, <a href="#" onclick="javascript:abreJanelaRedireciona(\''+retorno.url_pagamento+'\',\'/pedido-concluido/?pcodigo='+retorno.pedido_codigo+'\');" >clique aqui para iniciar!</a></small>')}break;}}else{alert('Pagamento n\xE3o realizado.\n\nRetorno da financeira: '+retorno.pagamento.message);window.location.href='/pagamento-cancelado/?pcodigo='+retorno.pedido_codigo}break;case 2://Boleto Físico
default://Sem meio de pagamento.
console.log('default');console.log(retorno.url_pagamento);window.location.href='/pedido-concluido/?pcodigo='+retorno.pedido_codigo;break;}})}else{$('.carrinho-checkout').slideDown('fast');$(form).slideDown('fast');$('#action_preloader').slideUp('fast');$(theMessageArea).html(retorno.message);$(theMessageArea).slideDown('fast',function(){$('html, body').animate({scrollTop:$(theMessageArea).offset().top-50},1000)})}}},error:function(jqXHR,textStatus,errorThrown){if(checkout_method==1){//paypal flow
//paypal.checkout.closeFlow();
}if(checkout_method==2){//pagseguro flow
//
}$(form).slideDown('fast');$('.carrinho-checkout').slideDown('fast');$('#action_preloader').slideUp('fast');$(theMessageArea).html('N\xE2o foi poss\xEDvel completar a solicita\xE7\xE3o, tente novamente em instantes, se o problema persistir entre em contato.');$(theMessageArea).slideDown('fast');console.log('003 - Falha!'+textStatus)}});//end ajax
})}var goCheckoutData,gatewayData;function goAndPay(){var paymentIsReady=gatewayCheckIsReady();console.log(paymentIsReady);if(paymentIsReady){//trackers - facebook / analytics
// fbq('track','AddPaymentInfo');
// gtag('event','add_payment_info');
if(goCheckoutData&&gatewayData){ckRegistraPedido(document.form_checkout,$('#form_checkout .error-message'))}}else{setTimeout(function(){goAndPay()},1000)}}$(document).ready(function(){// setMethod($("#pagamento_id").val());
setMethod(1);$('#confirmBtnWithGateWay').click(function(e){e.preventDefault();setMethod($('#pagamento_id').val());goCheckoutData=Util.checkFormRequire(document.form_checkout,$('#form_checkout .error-message'),ckValidaDados);if(goCheckoutData){gatewayData=gatewayCheckoutData($('#form_checkout .error-message'));goAndPay(goCheckoutData,gatewayData)}});// $('#confirmBtnNoGateWay').click(function(e){
// 	e.preventDefault();
// 	setMethod(1);
// 	var goCheckoutData = Util.checkFormRequire(document.form_checkout,$('#form_checkout .error-message'),ckValidaDados);
// 	if (goCheckoutData){
// 		ckRegistraPedido(document.form_checkout,$('#form_checkout .error-message'));
// 	}
// });
// Não se aplica ao projeto atual
// if ($(document.form_checkout).length>0) {
// 	getAndSetFreteInformation(document.form_checkout);
// }
//Incluir recurso de cartão - front-end
// $('input.cc-num').payment('formatCardNumber');
// $('input.cc-exp').payment('formatCardExpiry');
// $('input.cc-cvc').payment('formatCardCVC');
// $('.cpf').mask('999.999.999-99');
// $('.cep').mask('99999-999');
// $('.telefone').focusout(function(){
// 	var phone, element;
// 	element = $(this);
// 	element.unmask();
// 	phone = element.val().replace(/\D/g, '');
// 	if(phone.length > 10) {
// 	element.mask("(99) 99999-9999");
// 	} else {
// 	element.mask("(99) 9999-99999");
// }
// }).trigger('focusout');
// $('.data').mask('99/99/9999');
});function abreJanelaRedireciona(urlJanela,urlRedirect){window.open(urlJanela,'winPayment','width=500,height=500');setTimeout(function(){window.location.href=urlRedirect},3000)}//Define a opcao de frete
function setFreteCheckout(freteCodigo){$.ajax({type:'POST',url:'/site/direct-includes/modulo-ecommerce-ajax-controller.php',data:{frete_selecionado:freteCodigo,ac:'pSetSelectedFrete'}}).done(function(data){console.log(data);// gatewayReloadInstallments();
});//Após selecionar o frete os valores são recalculados.
calcCheckoutOptions()}function calcCheckoutOptions(){var subTotal=pedido_subtotal,//O valor de "pedido_subtotal" é definido na construção do carrinho.
freteValor=-1,pedidoValorTotal=0;//Verifica as opções de frete e verifica a que está selecionada
var opcao_frete=$('.opcao_frete:checked');if(opcao_frete.length>0){freteValor=$('.opcao_frete:checked').attr('data-valor')}// console.log(freteValor);
if(freteValor>=0){pedidoValorTotal=parseFloat(subTotal)+parseFloat(freteValor);$('.total-valor').html('R$ '+Util.formatMoney(pedidoValorTotal,2,',','.'));$('.card-pedido-total-valor').html(' R$ '+Util.formatMoney(pedidoValorTotal,2,',','.'));if(freteValor==0){$('.frete-valor').html('Gr\xE1tis');$('.card-frete-valor').html('Gr\xE1tis')}else{$('.frete-valor').html('R$ '+Util.formatMoney(freteValor,2,',','.'));$('.card-frete-valor').html('R$ '+Util.formatMoney(freteValor,2,',','.'))}if($('.boleto-desconto-pedido-total').length>0&&DesFP==1){var boletoPedidoValorTotalDesconto=pedidoValorTotal-parseFloat(DesFPVal*(pedidoValorTotal/100));$('.boleto-desconto-pedido-total').html(Util.formatMoney(boletoPedidoValorTotalDesconto,2,',','.'));$('.boleto-desconto-pedido-aviso').slideUp('fast')}}else{if($('.boleto-desconto-pedido-aviso').length>0){$('.boleto-desconto-pedido-aviso').slideDown('fast')}$('.boleto-desconto-pedido-total').html(' -- ');$('.frete-valor').html(' -- ');$('.total-valor').html(' -- ');$('.card-pedido-total-valor').html(' -- ');$('.card-frete-valor').html(' -- ')}}
if(typeof Array.prototype.reIndexOf==='undefined'){Array.prototype.reIndexOf=function(rx){for(var i in this){if(this[i].toString().match(rx)){return i}}return-1}}function ocultaMeuPedido(pedido_idx){$('#box-pedido-detalhe-'+pedido_idx).addClass('box-pedido-detalhe');$('.pedidoDetalheHide'+pedido_idx).fadeOut(0,function(){$('.pedidoDetalheShow'+pedido_idx).fadeIn(0)});$('#box-pedido-detalhe-'+pedido_idx).animate({'height':100},100,function(){$('#box-pedido-detalhe-'+pedido_idx+' .conteudo').html('')});$('#box-pedido-detalhe-'+pedido_idx).slideUp(20)}function exibeMeuPedido(pedido_idx){$('#box-pedido-detalhe-'+pedido_idx+' .conteudo').css('display','none');$.ajax({type:'POST',url:'/site/direct-includes/modulo-ecommerce-ajax-controller.php',data:{exe:10,ac:'pGetPedidoDetalhes',pid:pedido_idx}}).done(function(data){if(data!='erro'){$('#box-pedido-detalhe-'+pedido_idx).removeClass('box-pedido-detalhe');if($('.box-pedido-detalhe').length>0){$('.box-pedido-detalhe').slideUp('fast')}$('.box-pedido-detalhe .conteudo').html('');$('.table-list-pedidos .fa-times').fadeOut(0,function(){$('.table-list-pedidos .fa-search').fadeIn(0)});$('#box-pedido-detalhe-'+pedido_idx).slideDown('fast',function(){$('.pedidoDetalheShow'+pedido_idx).fadeOut(0,function(){$('.pedidoDetalheHide'+pedido_idx).fadeIn(0)});$('#loader-'+pedido_idx).fadeIn('fast',function(){$('#box-pedido-detalhe-'+pedido_idx+' .conteudo').html(data).promise().done(function(){setTimeout(function(){$('#loader-'+pedido_idx).fadeOut('fast',function(){//var newheight = ($('#box-pedido-detalhe-'+pedido_idx+' .conteudo .email').height() + 50) + "px";
/*$('#box-pedido-detalhe-'+pedido_idx+'').animate({
									'height': newheight
								}, 200);*/$('#box-pedido-detalhe-'+pedido_idx+'').css('height','auto');$('#box-pedido-detalhe-'+pedido_idx+' .conteudo').slideDown();$('#box-pedido-detalhe-'+pedido_idx).addClass('box-pedido-detalhe')})},1000)})})})}else{alert('N\xE3o poss\xEDvel ober os dados do pedido, tente novamente em instantes.');console.log(data)}})}/*detalhes das vendas*/function ocultaVenda(pedido_idx){$('#box-venda-detalhe-'+pedido_idx).addClass('box-venda-detalhe');$('.vendaDetalheHide'+pedido_idx).fadeOut(0,function(){$('.vendaDetalheShow'+pedido_idx).fadeIn(0)});$('#box-venda-detalhe-'+pedido_idx).animate({'height':100},100,function(){$('#box-venda-detalhe-'+pedido_idx+' .conteudo').html('')});$('#box-venda-detalhe-'+pedido_idx).slideUp(20)}function exibeVenda(pedido_idx){$('#box-venda-detalhe-'+pedido_idx+' .conteudo').css('display','none');$.ajax({type:'POST',url:'/site/direct-includes/modulo-ecommerce-ajax-controller.php',data:{exe:10,ac:'pGetVendaDetalhes',pid:pedido_idx}}).done(function(data){if(data!='erro'){$('#box-venda-detalhe-'+pedido_idx).removeClass('box-venda-detalhe');if($('.box-venda-detalhe').length>0){$('.box-venda-detalhe').slideUp('fast')}$('.box-venda-detalhe .conteudo').html('');// $('.table-list-pedidos .fa-times').fadeOut(0, function(){
// 	$('.table-list-pedidos .fa-search').fadeIn(0);
// });
$('#box-venda-detalhe-'+pedido_idx).slideDown('fast',function(){$('.vendaDetalheShow'+pedido_idx).fadeOut(0,function(){$('.vendaDetalheHide'+pedido_idx).fadeIn(0)});$('#loader-'+pedido_idx).fadeIn('fast',function(){$('#box-venda-detalhe-'+pedido_idx+' .conteudo').html(data).promise().done(function(){setTimeout(function(){$('#loader-'+pedido_idx).fadeOut('fast',function(){$('#box-venda-detalhe-'+pedido_idx+'').css('height','auto');$('#box-venda-detalhe-'+pedido_idx+' .conteudo').slideDown();$('#box-venda-detalhe-'+pedido_idx).addClass('box-venda-detalhe')})},1000)})})})}else{alert('N\xE3o poss\xEDvel ober os dados da venda, tente novamente em instantes.');console.log(data)}})}function validaUser(callback){let cData={exe:3};$.ajax({url:'/site/direct-includes/modulo-ecommerce-ajax-controller.php',type:'POST',data:cData,success:function(data,textStatus,jqXHR){if(typeof callback!='undefined'){if(data=='ok'){callback(true)}else{callback(false)}}else{return false}},error:function(jqXHR,textStatus,errorThrown){console.log('002 - Falha! '+textStatus)}})}function showBoxAvaliar(session_user){if(session_user==false){location.href='/login'}else{$('.avaliacao-form').slideDown('fast')}}function updateMyFavorites(produto_ids){$.ajax({url:'/site/direct-includes/modulo-ecommerce-ajax-controller.php',type:'POST',data:{produtos:produto_ids,ac:'uFavUpdate',exe:4},success:function(data,textStatus,xhr){if(data=='login_error'){location.href='/cadastro'}else{if(data=='ok'){//Trackers - Facebook/Analytics Tracking
var gtag_args=typeof gtag_track_args!=='undefined'&&gtag_track_args!==null?gtag_track_args:{};// gtag('event','add_to_wishlist',gtag_args);
var facebook_args=typeof facebook_track_args!=='undefined'&&facebook_track_args!==null?facebook_track_args:{};// fbq('track', 'AddToWishlist', facebook_args);
$('.alert-favoritos').html('Curso adicionado a sua lista de desejos!');$('.alert-favoritos').addClass('alert-success');$('.lista_desejos_off').css('display','none');$('.lista_desejos_on').css('display','block');$('.alert-favoritos').slideDown('fast',function(){setTimeout(function(){$('.alert-favoritos').slideUp('fast')},6000)})}else{$('.alert-favoritos').html('Erro ao inserir curso na sua lista de desejos! Tente mais tarde!');$('.alert-favoritos').addClass('alert-danger');$('.alert-favoritos').slideDown('fast',function(){setTimeout(function(){$('.alert-favoritos').slideUp('fast')},6000)})}}},error:function(xhr,textStatus,errorThrown){$('.alert-favoritos').html('Erro ao inserir curso na sua lista de desejos! Tente mais tarde!');$('.alert-favoritos').addClass('alert-danger');$('.alert-favoritos').slideDown('fast',function(){setTimeout(function(){$('.alert-favoritos').slideUp('fast')},6000)})}})}function removeFavorites(produto){if(confirm('Voc\xEA realmente quer remover este item?')){$.ajax({url:'/site/direct-includes/modulo-ecommerce-ajax-controller.php',type:'POST',data:{produtos:produto,ac:'uFavRemove',exe:5},success:function(data,textStatus,xhr){if(data=='ok'){$('.alert-favoritos').html('Curso removido com sucesso!');$('.alert-favoritos').addClass('alert-success');$('.alert-favoritos').slideDown('fast',function(){setTimeout(function(){$('.alert-favoritos').slideUp('fast',function(){})},6000)});$('#produto-'+produto).fadeOut('normal',function(){$('#produto-'+produto).remove()})}else{$('.alert-favoritos').html('Erro ao excluir curso na sua lista de desejos! Tente mais tarde!');$('.alert-favoritos').addClass('alert-danger');$('.alert-favoritos').slideDown('fast',function(){setTimeout(function(){$('.alert-favoritos').slideUp('fast')},6000)})}},error:function(xhr,textStatus,errorThrown){$('.alert-favoritos').html('Erro ao excluir curso na sua lista de desejos! Tente mais tarde!');$('.alert-favoritos').addClass('alert-danger');$('.alert-favoritos').slideDown('fast',function(){setTimeout(function(){$('.alert-favoritos').slideUp('fast')},6000)})}})}else{return false}}$(document).ready(function(){$('input.cc-num').payment('formatCardNumber');// $('input.cc-exp').payment('formatCardExpiry');
$('input.cc-exp').mask('99/99');$('input.cc-cvc').payment('formatCardCVC')});function sendRating(){var produto_idx=document.frmProduto.id_produto_avaliacao.value;var voto=document.frmProduto.voto_avaliacao.value;var titulo_avaliacao=document.frmProduto.titulo_avaliacao.value;var conteudo_avaliacao=document.frmProduto.conteudo_avaliacao.value;if(produto_idx==''||voto==''||titulo_avaliacao==''||conteudo_avaliacao==''){$('.alert-avaliacao').html('Preeencha todos os campos e fa\xE7a a sua avalia\xE7\xE3o!');$('.alert-avaliacao').removeClass('alert-success');$('.alert-avaliacao').addClass('alert-danger');$('.alert-avaliacao').slideDown('fast',function(){setTimeout(function(){$('.alert-avaliacao').slideUp('fast',function(){$('.alert-avaliacao').html('')})},4000)})}$.ajax({url:'/site/direct-includes/modulo-ecommerce-ajax-controller.php',type:'POST',data:{produto_idx:produto_idx,voto:voto,titulo_avaliacao:titulo_avaliacao,conteudo_avaliacao:conteudo_avaliacao,exe:7},success:function(data,textStatus,xhr){if(data=='ok'){var ol=$('.stars li').parent('ol');if($('.stars li').hasClass('active')&&!$('.stars li').next('li').hasClass('active')){$(ol).find('li').removeClass('active');rating=0}else{$(ol).find('li').removeClass('active');for(var i=0;i<$('.stars li').index()+1;i++){$(ol).find('li').eq(i).removeClass('active')};}document.frmProduto.voto_avaliacao.value='';document.frmProduto.titulo_avaliacao.value='';document.frmProduto.conteudo_avaliacao.value='';$('.alert-avaliacao').html('Sua avalia\xE7\xE3o est\xE1 sendo moderada e voc\xEA receber\xE1 um e-mail de confirma\xE7\xE3o quando ela for aceita!');$('.alert-avaliacao').removeClass('alert-danger');$('.alert-avaliacao').addClass('alert-success');$('.alert-avaliacao').slideDown('fast',function(){setTimeout(function(){$('.alert-avaliacao').slideUp('fast',function(){$('.avaliacao-form').slideUp('fast');$('.alert-avaliacao').html('')})},6000)})}else{$('.alert-avaliacao').html('N\xE3o foi poss\xEDvel fazer a avalia\xE7\xE3o. Verifique o preenchimento dos campos!');$('.alert-avaliacao').removeClass('alert-success');$('.alert-avaliacao').addClass('alert-danger');$('.alert-avaliacao').slideDown('fast',function(){setTimeout(function(){$('.alert-avaliacao').slideUp('fast',function(){$('.alert-avaliacao').html('')})},4000)})}},error:function(xhr,textStatus,errorThrown){$('.alert-avaliacao').html('N\xE3o foi poss\xEDvel fazer a avalia\xE7\xE3o. Tente mais tarde!');$('.alert-avaliacao').removeClass('alert-success');$('.alert-avaliacao').addClass('alert-danger');$('.alert-avaliacao').slideDown('fast',function(){setTimeout(function(){$('.alert-avaliacao').slideUp('fast',function(){$('.alert-avaliacao').html('')})},4000)})}})}